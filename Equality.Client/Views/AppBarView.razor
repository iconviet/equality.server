@inherits ViewBase<AppBarViewModel>

<MudAppBar Class="appbar" Elevation="0">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="() => ViewModel.ToogleOpen.Execute()" />
    <MudAppBarSpacer />
    <MudIconButton Icon="@Icons.Filled.Lightbulb" Size="Size.Medium" Color="Color.Inherit" Link="" Target="_blank" />
    <MudIconButton Icon="@Icons.Filled.Language" Size="Size.Medium" Color="Color.Inherit" Link="" Target="_blank" />
    @if (ViewModel.IconexExtension.Address != null)
    {
        <MudText>@ViewModel.IconexExtension.Address.SubstringWithEllipsis(0, 6)</MudText>
    }
    else
    {
        <MudButton Size="Size.Medium" Color="Color.Inherit" Variant="Variant.Text" DisableElevation="true" OnClick="() => ViewModel.ConnectWallet.Execute().ToTask()">
            ICONEX
        </MudButton>
    }
</MudAppBar>

@code{

    protected override void OnInitialized()
    {
        ViewModel.IconexExtension.WhenValueChanged(x => x.Address, false).Subscribe(_ => StateHasChanged()).DisposeWith(Composite);
    }

}